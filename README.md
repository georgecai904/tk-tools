# TK Tools (TK 工具箱)

**TK Tools** 是一个专为电商运营设计的本地化 Web 工具箱，旨在通过简洁友好的图形界面，自动化处理日常繁琐的订单与文档任务，提升工作效率。

本项目基于 **Python Streamlit** 框架开发，采用现代化的 **Apple Design** 设计风格，无需配置复杂的数据库服务器，开箱即用。

---

## 🛠️ 主要功能

### 1. 📄 PDF 面单拆分工具
针对批量导出的物流面单 PDF，根据 Tracking Number（追踪号）自动进行切割，并按订单信息重命名文件。

*   **智能识别**：利用 OCR 与文本解析技术，精准提取面单中的追踪号。
*   **批量处理**：支持上传多页大文件 PDF。
*   **自动重命名**：根据提供的订单列表（ID + 产品后缀），自动将拆分后的文件重命名，方便归档。
*   **一键打包**：处理完成后自动生成 ZIP 压缩包下载。

### 2. 🔄 订单 CSV 转换工具
将 TK 平台导出的原始订单 CSV 文件，一键转换为标准的发货单格式。

*   **格式清洗**：自动处理字符编码、日期格式等问题。
*   **州名标准化**：内置美国州名映射表（支持中文/英文全称转缩写），确保物流地址准确。
*   **SKU 智能映射**：
    *   提供可视化的 SKU 管理界面。
    *   支持自定义 SKU ID 与产品名称的对应关系。
    *   使用本地数据库（SQLite）持久化存储映射关系，无需每次重复输入。

---

## 🚀 快速开始

### 环境要求
*   Python 3.9+
*   Tesseract OCR (用于 PDF 识别)

### 安装步骤

1.  **克隆项目**
    ```bash
    git clone <repository_url>
    cd tk-tools
    ```

2.  **创建并激活虚拟环境**
    ```bash
    python -m venv venv
    source venv/bin/activate  # macOS/Linux
    # venv\Scripts\activate   # Windows
    ```

3.  **安装依赖**
    ```bash
    pip install -r requirements.txt
    ```

4.  **运行应用**
    ```bash
    streamlit run app.py
    ```
    运行成功后，浏览器将自动打开 `http://localhost:8501`。

---

## 📖 使用指南

### 1. PDF 拆分工具使用
1.  在左侧导航栏选择 **"PDF 拆分工具"**。
2.  **上传文件**：点击上传区域，选择包含多个面单的 PDF 文件。
3.  **配置订单列表**：在右侧文本框中粘贴订单信息。
    *   格式要求：`订单ID-后缀-产品名称` (例如：`57724...-9327-BOSWELL 7.5QT White`)。
    *   *程序会提取中间的 4 位后缀与 PDF 内容进行匹配。*
4.  点击 **"开始拆分"** 按钮，等待进度条完成。
5.  点击 **"下载所有文件 (ZIP)"** 保存结果。

### 2. CSV 订单转换使用
1.  在左侧导航栏选择 **"订单 CSV 转换"**。
2.  **SKU 映射管理 (首次使用配置)**：
    *   展开 **"📦 管理 SKU 映射表"**。
    *   输入 `SKU ID` 和对应的 `产品名称`，点击 **"添加"**。
    *   配置好的 SKU 会自动保存到本地数据库，后续使用无需再次添加。
3.  **转换订单**：
    *   上传 TK 平台导出的原始 CSV 订单文件。
    *   点击 **"开始转换"**。
4.  预览转换结果（前 5 行），确认无误后点击 **"下载转换后的 CSV"**。

---

## 📂 项目结构

```
tk-tools/
├── app.py                      # 应用入口
├── tk_tools.db                 # SQLite 数据库 (自动生成)
├── requirements.txt            # 项目依赖
├── src/
│   ├── core/                   # 核心业务逻辑
│   │   ├── tk_label_split...   # PDF 处理逻辑
│   │   ├── tk_orders_trans...  # CSV 处理逻辑
│   │   ├── db_manager.py       # 数据库管理
│   │   └── version_control.py  # 版本控制
│   └── ui/                     # 用户界面
│       ├── components.py       # 通用 UI 组件
│       ├── styles.py           # CSS 样式
│       └── views/              # 各功能页面视图
└── .streamlit/                 # Streamlit 配置
```

## 📅 更新日志
请在应用内点击左侧菜单 **"更新日志"** 查看详细的版本迭代历史。

---
© 2025 TK Tools. All Rights Reserved.
